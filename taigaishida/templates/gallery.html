{% extends "layout.html" %} {% block content %}

<section>
  <img
    src="{{ gallery[0] }}"
    class="image-transition object-scale-down h-screen-95 mx-auto pb-10"
    id="currentImage"
  />
</section>

<script type="text/javascript">
  const images = {{ gallery|safe }};
  const shuffled = images.sort((a, b) => 0.5 - Math.random());
  let currentImageIndex = 0;
  setInterval(() => {
    let nextImageIndex = (currentImageIndex + 1) % shuffled.length;
    let currentImage = document.getElementById("currentImage");
    currentImage.src = shuffled[nextImageIndex];
    currentImage.classList.add("opacity-0");
    setTimeout(() => {
      currentImage.classList.remove("opacity-0");
    }, 10);
    currentImageIndex = nextImageIndex;
  }, 3000);
</script>

{% endblock %}
